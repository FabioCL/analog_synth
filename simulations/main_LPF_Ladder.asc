Version 4
SHEET 1 3072 1764
WIRE -2304 -112 -2288 -128
WIRE -2192 -112 -2176 -128
WIRE -2048 -96 -2016 -128
WIRE -2304 -80 -2304 -112
WIRE -2192 -80 -2192 -112
WIRE -2048 -80 -2048 -96
WIRE -464 -48 -560 -48
WIRE -464 -16 -464 -48
WIRE -1264 16 -1376 16
WIRE -2048 32 -2048 0
WIRE -1376 32 -1376 16
WIRE -1264 32 -1264 16
WIRE -640 64 -816 64
WIRE -560 64 -592 64
WIRE -464 64 -464 48
WIRE -464 64 -496 64
WIRE -464 96 -464 64
WIRE -1520 128 -1552 128
WIRE -1376 128 -1376 112
WIRE -1376 128 -1440 128
WIRE 752 160 672 160
WIRE -1120 176 -1200 176
WIRE -560 176 -592 176
WIRE -464 176 -464 160
WIRE -464 176 -496 176
WIRE 544 176 464 176
WIRE -1376 192 -1376 128
WIRE -1328 192 -1376 192
WIRE 752 192 672 192
WIRE -1120 208 -1200 208
WIRE -464 208 -464 176
WIRE 544 208 496 208
WIRE -1328 224 -1376 224
WIRE 768 224 672 224
WIRE 880 224 768 224
WIRE 1024 224 944 224
WIRE 1072 224 1024 224
WIRE -1104 240 -1200 240
WIRE -1104 256 -1104 240
WIRE -1520 272 -1616 272
WIRE -1376 272 -1376 224
WIRE -1376 272 -1440 272
WIRE 112 288 64 288
WIRE -1856 304 -1904 304
WIRE -560 304 -592 304
WIRE -464 304 -464 272
WIRE -464 304 -496 304
WIRE -224 304 -464 304
WIRE -64 304 -224 304
WIRE -2480 320 -2512 320
WIRE -2416 320 -2480 320
WIRE -2304 320 -2352 320
WIRE -2192 320 -2224 320
WIRE -2032 320 -2192 320
WIRE -464 320 -464 304
WIRE 112 320 64 320
WIRE -1856 336 -1904 336
WIRE -64 336 -112 336
WIRE -2512 352 -2512 320
WIRE -2192 352 -2192 320
WIRE -2032 352 -2080 352
WIRE -1376 352 -1376 272
WIRE -1312 352 -1376 352
WIRE -1104 352 -1104 336
WIRE -1104 352 -1232 352
WIRE -992 352 -1104 352
WIRE 128 352 64 352
WIRE 256 352 128 352
WIRE 352 352 256 352
WIRE 496 352 496 208
WIRE 496 352 432 352
WIRE 560 352 496 352
WIRE 768 352 768 224
WIRE 768 352 640 352
WIRE -1840 368 -1904 368
WIRE -1696 368 -1840 368
WIRE -1616 368 -1616 272
WIRE -1616 368 -1696 368
WIRE -560 416 -592 416
WIRE -464 416 -464 384
WIRE -464 416 -496 416
WIRE -112 432 -112 336
WIRE 128 432 128 352
WIRE 128 432 -112 432
WIRE -2080 448 -2080 352
WIRE -1840 448 -1840 368
WIRE -1840 448 -2080 448
WIRE -464 448 -464 416
WIRE -2512 464 -2512 432
WIRE -2192 464 -2192 432
WIRE -1136 496 -1216 496
WIRE -1344 512 -1424 512
WIRE -1136 528 -1216 528
WIRE -1344 544 -1392 544
WIRE -1120 560 -1216 560
WIRE -640 560 -704 560
WIRE -560 560 -592 560
WIRE -464 560 -464 512
WIRE -464 560 -496 560
WIRE 400 576 272 576
WIRE 640 576 464 576
WIRE -1616 592 -1616 368
WIRE -1536 592 -1616 592
WIRE -1392 592 -1392 544
WIRE -1392 592 -1456 592
WIRE -1120 592 -1120 560
WIRE -464 592 -464 560
WIRE 272 672 272 576
WIRE 400 672 272 672
WIRE 640 672 640 576
WIRE 640 672 464 672
WIRE -1536 688 -1616 688
WIRE -1392 688 -1392 592
WIRE -1392 688 -1456 688
WIRE -1328 688 -1392 688
WIRE -1120 688 -1120 672
WIRE -1120 688 -1248 688
WIRE -992 688 -1120 688
WIRE -464 688 -464 656
WIRE -464 688 -560 688
WIRE -2320 768 -2352 768
WIRE 272 768 272 672
WIRE 400 768 272 768
WIRE 640 768 640 672
WIRE 640 768 480 768
WIRE -256 800 -288 800
WIRE -2320 816 -2320 768
WIRE -1616 848 -1664 848
WIRE -256 848 -256 800
WIRE -2832 864 -2864 864
WIRE -2208 864 -2256 864
WIRE -2096 864 -2128 864
WIRE -1968 864 -2096 864
WIRE -1792 864 -1968 864
WIRE -1616 880 -1664 880
WIRE 544 880 496 880
WIRE -2096 896 -2096 864
WIRE -1968 896 -1968 864
WIRE -1792 896 -1840 896
WIRE 368 896 -192 896
WIRE -2864 912 -2864 864
WIRE -1600 912 -1664 912
WIRE -1536 912 -1600 912
WIRE 544 912 496 912
WIRE 272 928 272 768
WIRE 368 928 272 928
WIRE 640 944 640 768
WIRE 640 944 496 944
WIRE 720 944 640 944
WIRE -2320 976 -2320 912
WIRE -1968 992 -1968 960
WIRE -1840 992 -1840 896
WIRE -1600 992 -1600 912
WIRE -1600 992 -1840 992
WIRE 144 992 96 992
WIRE 272 992 272 928
WIRE 272 992 224 992
WIRE -2096 1008 -2096 976
WIRE -256 1008 -256 944
WIRE -2864 1024 -2864 992
WIRE 96 1040 96 992
WIRE -1968 1088 -1968 1056
WIRE -1968 1184 -1968 1152
FLAG -2304 0 0
FLAG -2192 0 0
FLAG -2288 -128 Vneg
FLAG -2176 -128 Vpos
FLAG -2048 32 0
FLAG -2016 -128 signalwave
FLAG -1264 32 0
FLAG -1552 128 offset
FLAG -1120 176 Vpos
FLAG -1120 208 Vneg
FLAG -992 352 ladder_p
FLAG -2864 1024 0
FLAG -2832 864 CV_CUT_OFF
FLAG -2736 288 signalwave
FLAG -2192 464 0
FLAG -1856 304 Vpos
FLAG -1856 336 Vneg
FLAG -1696 368 signal_buffer
FLAG -2352 768 Vpos
FLAG -1136 496 Vpos
FLAG -1136 528 Vneg
FLAG -992 688 ladder_n
FLAG -1424 512 0
FLAG -1616 688 offset
FLAG -592 176 0
FLAG -592 304 0
FLAG -592 416 0
FLAG -224 304 ladder_out
FLAG -560 -48 ladder_p
FLAG -560 688 ladder_n
FLAG 112 288 Vpos
FLAG 112 320 Vneg
FLAG 752 160 Vpos
FLAG 752 192 Vneg
FLAG 1072 224 amp_out
FLAG 464 176 0
FLAG -1616 848 Vpos
FLAG -1616 880 Vneg
FLAG -2096 1008 0
FLAG -1968 1184 0
FLAG -1536 912 offset
FLAG -2320 976 0
FLAG 544 880 Vpos
FLAG 544 912 Vneg
FLAG -256 1008 0
FLAG 256 352 ladder_buff
FLAG 720 944 ladder_res_out
FLAG 96 1040 0
FLAG -288 800 ladder_buff
FLAG -816 64 ladder_res
FLAG -704 560 ladder_res
FLAG -592 64 0
FLAG -592 560 0
FLAG -2512 464 0
FLAG -2480 320 VIN
FLAG 1024 224 VOUT
SYMBOL voltage -2304 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value -12V
SYMBOL voltage -2192 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 12V
SYMBOL voltage -2048 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(-5 5 0 1p 1p {wton} {wperiod})
SYMBOL res -1424 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 47k
SYMBOL res -1424 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 47k
SYMBOL res -1216 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 47k
SYMBOL res -1360 128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 47k
SYMBOL voltage -2864 896 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res -2208 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res -2208 336 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL pot -2336 800 R0
WINDOW 0 27 -29 Left 2
WINDOW 39 26 -2 Left 2
SYMATTR InstName X1
SYMATTR SpiceLine R=100k val={cutf_val}
SYMBOL res -1440 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 47k
SYMBOL res -1232 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 47k
SYMBOL res -1440 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 47k
SYMBOL diode -480 -16 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode -480 96 R0
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL diode -480 208 R0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode -480 320 R0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL diode -480 448 R0
SYMATTR InstName D5
SYMATTR Value 1N914
SYMBOL cap -496 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL cap -496 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL cap -496 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL cap -496 400 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL diode -480 592 R0
SYMATTR InstName D6
SYMATTR Value 1N914
SYMBOL cap -496 544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1n
SYMBOL res -1104 688 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res -1088 352 R180
WINDOW 0 -54 74 Left 2
WINDOW 3 -49 51 Left 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res 656 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 47k
SYMBOL res 448 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res -2112 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL res -2112 880 R0
SYMATTR InstName R15
SYMATTR Value 47k
SYMBOL diode -1984 896 R0
SYMATTR InstName D7
SYMATTR Value 1N914
SYMBOL diode -1984 992 R0
SYMATTR InstName D8
SYMATTR Value 1N914
SYMBOL diode -1984 1088 R0
SYMATTR InstName D9
SYMATTR Value 1N914
SYMBOL LMX58B_LM2904B 608 192 R0
SYMATTR InstName U1
SYMBOL LMX58B_LM2904B 0 320 R0
SYMATTR InstName U2
SYMBOL LMX58B_LM2904B -1264 208 R0
SYMATTR InstName U3
SYMBOL LMX58B_LM2904B -1280 528 R0
SYMATTR InstName U4
SYMBOL LMX58B_LM2904B -1968 336 R0
SYMATTR InstName U5
SYMBOL LMX58B_LM2904B -1728 880 R0
SYMATTR InstName U6
SYMBOL LMX58B_LM2904B 432 912 R0
SYMATTR InstName U7
SYMBOL pot -272 832 R0
WINDOW 0 27 -29 Left 2
WINDOW 39 26 -2 Left 2
SYMATTR InstName X2
SYMATTR SpiceLine R=100k val=50
SYMBOL diode 464 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D10
SYMATTR Value 1N914
SYMBOL diode 400 592 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D11
SYMATTR Value 1N914
SYMBOL res 496 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL res 240 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 2.7k
SYMBOL cap -2352 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap 944 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 1µ
SYMBOL voltage -2512 336 R0
WINDOW 123 41 94 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value ""
TEXT -1728 -208 Left 2 !.ac dec 999 10 20k
TEXT -2832 96 Left 2 ;Wave Preparation\n - HP filter (DC remove)\n - Signal down scaling (prevent ladder to become a short circuit " resistor too low")
TEXT -704 -136 Left 2 ;Diode LADDER
TEXT -1440 -104 Left 2 ;Gain = 1, Positive offset
TEXT -1384 416 Left 2 ;Inverter Summer
TEXT -2160 248 Left 2 ;100mVpp
TEXT 432 8 Left 2 ;output gain stage
TEXT -2536 592 Left 2 ;CV Processing - Cutoff Frequency / Change "diode" resistance
TEXT -24 592 Left 2 ;Ressonance
TEXT -600 1080 Left 2 !;.step param res_val 10 90 80
TEXT -672 -112 Left 2 ;reduce diodes effective resistances  (voltage controlled resistor)
TEXT -1728 -248 Left 2 !.param wfreq=1200 wperiod=1/wfreq wton=wperiod*0.5
TEXT -2488 1072 Left 2 !.step param cutf_val 10 90 10
