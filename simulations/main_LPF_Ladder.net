* C:\HOME_projects\SYNTH_GOOM\2LineartoExponential\main_LPF_Ladder.asc
V6 Vneg 0 -12V
V7 Vpos 0 12V
V3 signalwave 0 PULSE(-5 5 0 1p 1p {wton} {wperiod})
R7 N002 offset 47k
R8 N005 signal_buffer 47k
R9 ladder_p N005 47k
R11 N002 0 47k
V2 CV_CUT_OFF 0 12
R2 N009 N008 4.7k
R3 N009 0 100
XX1 Vpos 0 N015 pot params: R=100k val={cutf_val}
R5 N011 signal_buffer 47k
R6 ladder_n N011 47k
R4 N011 offset 47k
D1 ladder_p N001 1N914
D2 N001 N003 1N914
D3 N003 ladder_out 1N914
D4 ladder_out N010 1N914
D5 N010 N013 1N914
C2 N001 0 1n
C3 N003 0 1n
C4 ladder_out 0 1n
C5 N010 0 1n
D6 N013 ladder_n 1N914
C6 N013 0 1n
R1 ladder_n N012 1k
R10 ladder_p N007 1k
R13 N006 N004 47k
R14 N004 ladder_buff 1k
R12 N016 N015 100k
R15 N016 0 47k
D7 N016 N018 1N914
D8 N018 N019 1N914
D9 N019 0 1N914
XU1 0 N004 Vpos Vneg N006 LMX58B_LM2904B
XU2 ladder_out ladder_buff Vpos Vneg ladder_buff LMX58B_LM2904B
XU3 N002 N005 Vpos Vneg N007 LMX58B_LM2904B
XU4 0 N011 Vpos Vneg N012 LMX58B_LM2904B
XU5 N009 signal_buffer Vpos Vneg signal_buffer LMX58B_LM2904B
XU6 N016 offset Vpos Vneg offset LMX58B_LM2904B
XU7 N017 N014 Vpos Vneg ladder_res_out LMX58B_LM2904B
XX2 ladder_buff 0 N017 pot params: R=100k val=50
D10 ladder_res_out N014 1N914
D11 N014 ladder_res_out 1N914
R17 ladder_res_out N014 10k
R18 N014 0 2.7k
C1 N008 VIN 1µ
C7 VOUT N006 1µ
V1 VIN 0 AC 1

* block symbol definitions
.subckt pot 1 3 2
R1 1 2 {x1}
R2 2 3 {x2}
.param x1 = R*(val/100)
.param x2=R*(1-(val/100))
.ends pot

.model D D
.lib C:\Users\fabio\Documents\LTspiceXVII\lib\cmp\standard.dio
.ac dec 999 10 20k
* Wave Preparation\n - HP filter (DC remove)\n - Signal down scaling (prevent ladder to become a short circuit " resistor too low")
* Diode LADDER
* Gain = 1, Positive offset
* Inverter Summer
* 100mVpp
* output gain stage
* CV Processing - Cutoff Frequency / Change "diode" resistance
* Ressonance
;.step param res_val 10 90 80
* reduce diodes effective resistances  (voltage controlled resistor)
.param wfreq=1200 wperiod=1/wfreq wton=wperiod*0.5
.step param cutf_val 10 90 10
.lib C:\HOME_projects\SYNTH_GOOM\2LineartoExponential\LMx58B_LM2904B_PSpice\lmx58b_lm2904b.lib
.backanno
.end
