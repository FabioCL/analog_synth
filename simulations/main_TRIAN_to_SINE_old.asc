Version 4
SHEET 1 3072 1764
WIRE 944 -720 592 -720
WIRE 16 -704 32 -720
WIRE 16 -688 16 -704
WIRE 16 -688 -160 -688
WIRE 160 -688 16 -688
WIRE -160 -656 -160 -688
WIRE 160 -656 160 -688
WIRE -2096 -576 -2080 -592
WIRE -1984 -576 -1968 -592
WIRE 848 -576 816 -576
WIRE 160 -560 160 -576
WIRE 432 -560 160 -560
WIRE 688 -560 432 -560
WIRE -2096 -544 -2096 -576
WIRE -1984 -544 -1984 -576
WIRE -160 -544 -160 -576
WIRE 160 -544 160 -560
WIRE 848 -544 816 -544
WIRE 592 -528 592 -720
WIRE 688 -528 592 -528
WIRE 432 -512 432 -560
WIRE 944 -512 944 -720
WIRE 944 -512 816 -512
WIRE 1008 -512 944 -512
WIRE -1824 -496 -1808 -512
WIRE -480 -496 -544 -496
WIRE -320 -496 -400 -496
WIRE -240 -496 -320 -496
WIRE -224 -496 -240 -496
WIRE 288 -496 224 -496
WIRE -1824 -464 -1824 -496
WIRE -240 -464 -240 -496
WIRE 288 -464 288 -496
WIRE -1984 -448 -1984 -464
WIRE -160 -400 -160 -448
WIRE -112 -400 -160 -400
WIRE 0 -400 -32 -400
WIRE 64 -400 0 -400
WIRE 160 -400 160 -448
WIRE 160 -400 144 -400
WIRE 432 -400 432 -432
WIRE -240 -368 -240 -384
WIRE 288 -368 288 -384
WIRE 0 -320 0 -400
WIRE 0 -192 0 -240
WIRE 16 -192 0 -192
FLAG -2096 -464 0
FLAG -1984 -448 0
FLAG -2080 -592 Vneg
FLAG -1968 -592 Vpos
FLAG -1824 -384 0
FLAG -1808 -512 Vtriangle_in
FLAG -544 -496 Vtriangle_in
FLAG 32 -720 Vpos
FLAG 288 -368 0
FLAG 432 -560 Vout
FLAG 16 -192 Vneg
FLAG -240 -368 0
FLAG -320 -496 Vin_t
FLAG 432 -400 0
FLAG 848 -576 Vpos
FLAG 848 -544 Vneg
FLAG 1008 -512 Vsine
SYMBOL voltage -2096 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value -12V
SYMBOL voltage -1984 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 30 87 Left 2
SYMATTR Value 12V
SYMATTR InstName V7
SYMBOL voltage -1824 -480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(-2.4 2.4 0 {triangle_period/2} {triangle_period/2} 0 {triangle_period})
SYMBOL res -384 -512 R90
WINDOW 0 18 109 VBottom 2
WINDOW 3 21 113 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL npn -224 -544 R0
WINDOW 0 56 23 Left 2
WINDOW 3 59 47 Left 2
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL npn 224 -544 M0
WINDOW 0 85 12 Left 2
WINDOW 3 24 43 Left 2
SYMATTR InstName Q2
SYMATTR Value BC547C
SYMBOL res -144 -560 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 176 -560 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 16 -224 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 304 -368 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 220
SYMBOL res -16 -416 R90
WINDOW 0 0 49 VBottom 2
WINDOW 3 44 58 VTop 2
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL res 160 -416 R90
WINDOW 0 -4 56 VBottom 2
WINDOW 3 38 59 VTop 2
SYMATTR InstName R9
SYMATTR Value 1
SYMBOL res -224 -368 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 448 -416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL TL07XH_TL08XH 752 -544 R0
SYMATTR InstName U1
TEXT -2136 -384 Left 2 !.tran 12ms uic
TEXT -1840 -624 Left 2 ;Saw to Sine (OTA)\nhttps://www.youtube.com/watch?v=V_AzBAopRS8&list=PLOunECWxELQS5bMdWo9VhmZtsCjhjYNcV&index=19
TEXT -1792 -264 Left 2 !.param triangle_period={1/val}
TEXT -2104 -720 Left 2 ;Sine wave\n - Linearizing diode, 1mA bias is recommended, (12 - 0.7V)  10k recommended\n - gm = 19.2* Iabc
TEXT -1792 -296 Left 2 !;.step param val list 220 880
