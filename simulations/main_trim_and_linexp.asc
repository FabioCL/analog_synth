Version 4
SHEET 1 3072 1764
WIRE 96 128 32 128
WIRE 304 128 176 128
WIRE 464 128 384 128
WIRE -2032 192 -2096 192
WIRE -496 192 -480 176
WIRE -2032 208 -2032 192
WIRE 176 208 160 208
WIRE -496 224 -496 192
WIRE 352 224 320 224
WIRE -192 240 -256 240
WIRE 32 240 32 128
WIRE 32 240 -112 240
WIRE 176 240 176 208
WIRE 176 240 160 240
WIRE 192 240 176 240
WIRE -1840 256 -1968 256
WIRE -1696 256 -1760 256
WIRE 464 256 464 128
WIRE 464 256 320 256
WIRE 512 256 464 256
WIRE 32 272 32 240
WIRE 192 272 32 272
WIRE 352 288 320 288
WIRE -2032 320 -2032 304
WIRE -2032 320 -2096 320
WIRE -496 336 -496 304
WIRE -496 336 -864 336
WIRE -496 384 -496 336
WIRE -256 384 -256 240
WIRE -656 432 -688 432
WIRE -560 432 -576 432
WIRE -2032 448 -2096 448
WIRE -2032 464 -2032 448
WIRE -192 480 -192 432
WIRE -1840 512 -1968 512
WIRE -1696 512 -1696 256
WIRE -1696 512 -1760 512
WIRE -496 544 -496 480
WIRE -368 544 -496 544
WIRE -256 544 -256 480
WIRE -256 544 -368 544
WIRE -2896 560 -2880 544
WIRE -2784 560 -2768 544
WIRE -2656 560 -2640 544
WIRE -368 560 -368 544
WIRE -2032 576 -2032 560
WIRE -2032 576 -2096 576
WIRE -2896 592 -2896 560
WIRE -2784 592 -2784 560
WIRE -2656 592 -2656 560
WIRE -864 672 -864 336
WIRE -624 672 -864 672
WIRE -368 672 -368 640
WIRE -368 672 -560 672
WIRE -2336 688 -2384 688
WIRE -2384 704 -2384 688
WIRE -1840 720 -2000 720
WIRE -1696 720 -1696 512
WIRE -1696 720 -1760 720
WIRE -1488 720 -1696 720
WIRE -1232 720 -1408 720
WIRE -688 752 -704 752
WIRE -512 768 -544 768
WIRE -688 784 -688 752
WIRE -688 784 -704 784
WIRE -672 784 -688 784
WIRE -1552 800 -1568 800
WIRE -368 800 -368 672
WIRE -368 800 -544 800
WIRE -1376 816 -1408 816
WIRE -864 816 -864 672
WIRE -672 816 -864 816
WIRE -1552 832 -1552 800
WIRE -1552 832 -1568 832
WIRE -1536 832 -1552 832
WIRE -496 832 -544 832
WIRE -1232 848 -1232 720
WIRE -1232 848 -1408 848
WIRE -1168 848 -1232 848
WIRE -1696 864 -1696 720
WIRE -1536 864 -1696 864
WIRE -1376 880 -1408 880
WIRE -1232 880 -1232 848
WIRE -1232 992 -1232 960
FLAG -704 784 0
FLAG -496 832 Vneg
FLAG -512 768 Vpos
FLAG -192 480 0
FLAG 352 288 Vneg
FLAG 352 224 Vpos
FLAG 160 240 0
FLAG 512 256 CV_out
IOPIN 512 256 Out
FLAG -480 176 Vpos
FLAG -1376 880 Vneg
FLAG -1376 816 Vpos
FLAG -2000 720 Vpitch
IOPIN -2000 720 In
FLAG -2096 576 Vneg
IOPIN -2096 576 In
FLAG -2096 320 Vneg
IOPIN -2096 320 In
FLAG -2096 192 Vpos
IOPIN -2096 192 In
FLAG -2096 448 Vpos
IOPIN -2096 448 In
FLAG -1568 800 GND
IOPIN -1568 800 In
FLAG -1232 992 0
FLAG -1568 832 0
FLAG -2384 784 0
FLAG -2336 688 Vpitch
IOPIN -2336 688 Out
FLAG -2896 672 0
FLAG -2784 672 0
FLAG -2880 544 Vneg
FLAG -2768 544 Vpos
FLAG -2656 672 0
FLAG -2640 544 VCC
FLAG -1168 848 Vpitch_trim
FLAG -688 432 Vpitch_trim
SYMBOL res -384 544 R0
WINDOW 3 33 62 Left 2
SYMATTR Value 2.2k
SYMATTR InstName R3
SYMBOL cap -560 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL npn -560 384 R0
SYMATTR InstName Q3
SYMATTR Value BC547C
SYMBOL npn -192 384 M0
SYMATTR InstName Q4
SYMATTR Value BC547C
SYMBOL res -512 208 R0
SYMATTR InstName R1
SYMATTR Value 1200k
SYMBOL res 400 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 623
SYMBOL res -96 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL res 192 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 15k
SYMBOL res -1744 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res -1744 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res -1744 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res -1216 976 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL voltage -2384 688 R0
WINDOW 0 49 60 Left 2
WINDOW 3 49 88 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {vpitch_val}
SYMBOL voltage -2896 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value -12V
SYMBOL voltage -2784 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 12V
SYMBOL voltage -2656 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 5V
SYMBOL pot -2048 448 R0
WINDOW 0 25 -22 Left 2
WINDOW 39 28 3 Left 2
SYMATTR InstName X1
SYMATTR SpiceLine R=100k val=50
SYMBOL pot -2048 192 R0
WINDOW 0 25 -7 Left 2
WINDOW 39 25 21 Left 2
SYMATTR InstName X2
SYMATTR SpiceLine R=100k val=50
SYMBOL res -560 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1
SYMBOL res -1392 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1780
SYMBOL LMX58B_LM2904B -1472 848 R0
SYMATTR InstName U1
SYMBOL LMX58B_LM2904B -608 800 R0
SYMATTR InstName U2
SYMBOL LMX58B_LM2904B 256 256 R0
SYMATTR InstName U4
TEXT -1664 352 Left 2 ;based on https://www.schmitzbits.de/expo_tutorial/
TEXT -80 816 Left 2 ;Create audio files\nhttps://www.analog.com/en/analog-dialogue/raqs/raq-issue-175.html
TEXT -1664 312 Left 2 ;Linear to Exponential Converter
TEXT -72 504 Left 2 ;1st order Temp compensation: Current mirror Is argument
TEXT -72 664 Left 2 ;The exponentiator has the lowest\n temperature dependancy\nwhen operated arround Is\n( reference current).
TEXT -72 632 Left 2 ;2nd order Temp Comp: exp argument
TEXT -72 576 Left 2 ;Rbe effect (Rossum compensation)
TEXT -2176 152 Left 3 ;Coarse
TEXT -2168 416 Left 3 ;Fine
TEXT -2144 664 Left 3 ;Pitch 1V/oct
TEXT -2392 840 Left 2 !.step param vpitch_val 0.5 5 0.5
TEXT -2392 872 Left 2 !.op
TEXT -1528 536 Left 2 ;No Temperature compensation (25C assumed)
TEXT -2392 944 Left 2 !.TEMP 10 25 45
TEXT 440 56 Left 2 ;just for visualization
RECTANGLE Normal 704 32 -48 368 2
